<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>JUCE: Convolution Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classConvolution-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Convolution Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs stereo uniform-partitioned convolution of an input signal with an impulse response in the frequency domain, using the juce <a class="el" href="classFFT.html" title="Performs a fast fourier transform. ">FFT</a> class.  
 <a href="classConvolution.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9fd1a996a2d826c01991e6913f6163bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#a9fd1a996a2d826c01991e6913f6163bf">Convolution</a> ()</td></tr>
<tr class="memdesc:a9fd1a996a2d826c01991e6913f6163bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises an object for performing convolution in the frequency domain.  <a href="#a9fd1a996a2d826c01991e6913f6163bf">More...</a><br/></td></tr>
<tr class="separator:a9fd1a996a2d826c01991e6913f6163bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32df73ca0f440e06e144236becc37eea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#a32df73ca0f440e06e144236becc37eea">~Convolution</a> ()</td></tr>
<tr class="memdesc:a32df73ca0f440e06e144236becc37eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a32df73ca0f440e06e144236becc37eea">More...</a><br/></td></tr>
<tr class="separator:a32df73ca0f440e06e144236becc37eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc9bd70878ae26111e1f84ab158475a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#aecc9bd70878ae26111e1f84ab158475a">prepare</a> (const <a class="el" href="structProcessSpec.html">ProcessSpec</a> &amp;)</td></tr>
<tr class="memdesc:aecc9bd70878ae26111e1f84ab158475a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called before loading any impulse response, to provide to the convolution the maximumBufferSize to handle, and the sample rate useful for optional resampling.  <a href="#aecc9bd70878ae26111e1f84ab158475a">More...</a><br/></td></tr>
<tr class="separator:aecc9bd70878ae26111e1f84ab158475a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007c61b147eb116fcb4617132aeafbb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#a007c61b147eb116fcb4617132aeafbb4">reset</a> () noexcept</td></tr>
<tr class="memdesc:a007c61b147eb116fcb4617132aeafbb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the processing pipeline, ready to start a new stream of data.  <a href="#a007c61b147eb116fcb4617132aeafbb4">More...</a><br/></td></tr>
<tr class="separator:a007c61b147eb116fcb4617132aeafbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb599a6442c82ab7f68c72aa2de4d42b"><td class="memTemplParams" colspan="2">template&lt;typename ProcessContext &gt; </td></tr>
<tr class="memitem:abb599a6442c82ab7f68c72aa2de4d42b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classConvolution.html#abb599a6442c82ab7f68c72aa2de4d42b">process</a> (const ProcessContext &amp;context) noexcept</td></tr>
<tr class="memdesc:abb599a6442c82ab7f68c72aa2de4d42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the filter operation on the given set of samples, with optional stereo processing.  <a href="#abb599a6442c82ab7f68c72aa2de4d42b">More...</a><br/></td></tr>
<tr class="separator:abb599a6442c82ab7f68c72aa2de4d42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ff9ad52970e3ff74c3892b329d1261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#af5ff9ad52970e3ff74c3892b329d1261">loadImpulseResponse</a> (const void *sourceData, size_t sourceDataSize, bool wantsStereo, size_t size)</td></tr>
<tr class="memdesc:af5ff9ad52970e3ff74c3892b329d1261"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads an impulse response audio file from memory, added in a JUCE project with the Projucer as binary data.  <a href="#af5ff9ad52970e3ff74c3892b329d1261">More...</a><br/></td></tr>
<tr class="separator:af5ff9ad52970e3ff74c3892b329d1261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefebdf5eeded5b4ac7c35ef85c96ec85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#aefebdf5eeded5b4ac7c35ef85c96ec85">loadImpulseResponse</a> (const <a class="el" href="classFile.html">File</a> &amp;fileImpulseResponse, bool wantsStereo, size_t size)</td></tr>
<tr class="memdesc:aefebdf5eeded5b4ac7c35ef85c96ec85"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads an impulse response from an audio file on any drive.  <a href="#aefebdf5eeded5b4ac7c35ef85c96ec85">More...</a><br/></td></tr>
<tr class="separator:aefebdf5eeded5b4ac7c35ef85c96ec85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d83090e576d041461bb42e5fbb7f99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConvolution.html#a64d83090e576d041461bb42e5fbb7f99">copyAndLoadImpulseResponseFromBuffer</a> (const <a class="el" href="classAudioBuffer.html">AudioBuffer</a>&lt; float &gt; &amp;buffer, double bufferSampleRate, bool wantsStereo, size_t size)</td></tr>
<tr class="memdesc:a64d83090e576d041461bb42e5fbb7f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads an impulse response from an audio buffer, which is copied before doing anything else.  <a href="#a64d83090e576d041461bb42e5fbb7f99">More...</a><br/></td></tr>
<tr class="separator:a64d83090e576d041461bb42e5fbb7f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs stereo uniform-partitioned convolution of an input signal with an impulse response in the frequency domain, using the juce <a class="el" href="classFFT.html" title="Performs a fast fourier transform. ">FFT</a> class. </p>
<p>It provides some thread-safe functions to load impulse responses as well, from audio files or memory on the fly without any noticeable artefacts, performing resampling and trimming if necessary.</p>
<p>The processing is equivalent to the time domain convolution done in the class FIRFilter, with a FIRFilter::Coefficients object having as coefficients the samples of the impulse response. However, it is more efficient in general to do frequency domain convolution when the size of the impulse response is higher than 64 samples.</p>
<dl class="section see"><dt>See Also</dt><dd>FIRFilter, FIRFilter::Coefficients, <a class="el" href="classFFT.html" title="Performs a fast fourier transform. ">FFT</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9fd1a996a2d826c01991e6913f6163bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Convolution::Convolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises an object for performing convolution in the frequency domain. </p>

</div>
</div>
<a class="anchor" id="a32df73ca0f440e06e144236becc37eea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Convolution::~Convolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aecc9bd70878ae26111e1f84ab158475a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::prepare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structProcessSpec.html">ProcessSpec</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Must be called before loading any impulse response, to provide to the convolution the maximumBufferSize to handle, and the sample rate useful for optional resampling. </p>

</div>
</div>
<a class="anchor" id="a007c61b147eb116fcb4617132aeafbb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the processing pipeline, ready to start a new stream of data. </p>

</div>
</div>
<a class="anchor" id="abb599a6442c82ab7f68c72aa2de4d42b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ProcessContext &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::process </td>
          <td>(</td>
          <td class="paramtype">const ProcessContext &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the filter operation on the given set of samples, with optional stereo processing. </p>

</div>
</div>
<a class="anchor" id="af5ff9ad52970e3ff74c3892b329d1261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::loadImpulseResponse </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>sourceData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sourceDataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wantsStereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads an impulse response audio file from memory, added in a JUCE project with the Projucer as binary data. </p>
<p>It can load any of the audio formats registered in JUCE, and performs some resampling and pre-processing as well if needed.</p>
<p>Note : obviously, don't try to use this function on float samples, since the data is supposed to be an audio file in its binary format, and be sure that the original data is not going to move at all its memory location during the process !!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sourceData</td><td>the block of data to use as the stream's source </td></tr>
    <tr><td class="paramname">sourceDataSize</td><td>the number of bytes in the source data block </td></tr>
    <tr><td class="paramname">wantsStereo</td><td>requests to load both stereo channels or only one mono channel </td></tr>
    <tr><td class="paramname">size</td><td>the expected size for the impulse response after loading </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aefebdf5eeded5b4ac7c35ef85c96ec85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::loadImpulseResponse </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFile.html">File</a> &amp;&#160;</td>
          <td class="paramname"><em>fileImpulseResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wantsStereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads an impulse response from an audio file on any drive. </p>
<p>It can load any of the audio formats registered in JUCE, and performs some resampling and pre-processing as well if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileImpulseResponse</td><td>the location of the audio file </td></tr>
    <tr><td class="paramname">wantsStereo</td><td>requests to load both stereo channels or only one mono channel </td></tr>
    <tr><td class="paramname">size</td><td>the expected size for the impulse response after loading </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a64d83090e576d041461bb42e5fbb7f99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Convolution::copyAndLoadImpulseResponseFromBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAudioBuffer.html">AudioBuffer</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>bufferSampleRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wantsStereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads an impulse response from an audio buffer, which is copied before doing anything else. </p>
<p>Performs some resampling and pre-processing as well if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the <a class="el" href="classAudioBuffer.html" title="A multi-channel buffer of floating point audio samples. ">AudioBuffer</a> to use </td></tr>
    <tr><td class="paramname">bufferSampleRate</td><td>the sampleRate of the data in the <a class="el" href="classAudioBuffer.html" title="A multi-channel buffer of floating point audio samples. ">AudioBuffer</a> </td></tr>
    <tr><td class="paramname">wantsStereo</td><td>requests to load both stereo channels or only one mono channel </td></tr>
    <tr><td class="paramname">size</td><td>the expected size for the impulse response after loading </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="juce__Convolution_8h.html">juce_Convolution.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 20:00:26 for JUCE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6 . All content &copy ROLI Ltd.
</small></address>
</body>
</html>
